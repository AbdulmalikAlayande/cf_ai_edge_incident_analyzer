<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Incident Investigator</title>
    <link rel="stylesheet" href="../styles/main.css" />
	</head>
	<body>
		<div class="bg-layer" aria-hidden="true"></div>
		<div class="app-shell">
			<header class="topbar">
				<div class="brand-block">
					<h1>Incident Investigator</h1>
					<p>Distributed systems debugging assistant</p>
				</div>
				<div class="session-block">
					<p id="session-status" class="session-status">Not started</p>
					<button id="new-session-btn" type="button" class="btn btn-secondary">
						New session
					</button>
				</div>
			</header>

			<main class="main-content">
				<section
					id="chat-feed"
					class="chat-feed"
					aria-live="polite"
					aria-label="Chat transcript"
				>
					<div id="empty-state" class="empty-state">
						<h2>Start an investigation</h2>
						<p>
							Paste logs, attach a file, or describe what users are
							experiencing. I&rsquo;ll identify likely distributed failure
							patterns and guide the next checks.
						</p>
						<div class="example-grid" role="group" aria-label="Example prompts">
							<button
								type="button"
								class="example-chip"
								data-example="Latency spiked after deploy; only eu-west affected."
							>
								Latency spiked after deploy; only eu-west affected.
							</button>
							<button
								type="button"
								class="example-chip"
								data-example="Seeing timeouts between API and auth service."
							>
								Seeing timeouts between API and auth service.
							</button>
							<button
								type="button"
								class="example-chip"
								data-example="Queue backlog growing; workers can&rsquo;t keep up."
							>
								Queue backlog growing; workers can&rsquo;t keep up.
							</button>
						</div>
					</div>
				</section>
			</main>

			<section class="composer-dock" aria-label="Message composer">
				<div class="input-mode-panel">
					<div class="input-mode-row">
						<span class="input-mode-label">Input type</span>
						<div class="toggle-group" role="tablist" aria-label="Input type">
							<button type="button" class="toggle-btn active" data-mode="logs">
								Paste logs
							</button>
							<button type="button" class="toggle-btn" data-mode="describe">
								Describe incident
							</button>
						</div>
					</div>
					<div class="file-panel">
						<label for="file-input" class="file-label"
							>Attach log file (optional)</label
						>
						<input
							id="file-input"
							type="file"
							accept=".log,.txt,.json,text/plain,application/json"
						/>
						<p class="meta-text">.log, .txt, .json supported</p>
						<p class="hint-text">
							Tip: include region, service name, timestamps if you have them.
						</p>
						<p id="file-name" class="file-name" hidden></p>
					</div>
				</div>

				<div class="composer-panel">
					<textarea
						id="message-input"
						rows="3"
						placeholder="Paste logs or describe the incidentâ€¦ (Shift+Enter for new line)"
					></textarea>
					<div class="composer-actions">
						<button id="clear-input-btn" type="button" class="btn btn-ghost">
							Clear input
						</button>
						<button id="send-btn" type="button" class="btn btn-primary">
							Send
						</button>
					</div>
				</div>
				<p class="trust-note">Your data stays in this session.</p>
			</section>
		</div>

		<script type="module" src="../scripts/main.js"></script>
	</body>
</html>



