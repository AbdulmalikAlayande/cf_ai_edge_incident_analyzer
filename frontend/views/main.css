@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");

:root {
	--bg: #0b1220;
	--panel: #0f172a;
	--panel2: #111c33;
	--border: rgba(148, 163, 184, 0.18);
	--text: #e5e7eb;
	--muted: rgba(226, 232, 240, 0.7);
	--muted2: rgba(226, 232, 240, 0.55);

	--accent: #f97316;
	--accent2: #ea580c;

	--user: #0f1f3a;
	--assistant: #0e1a30;

	--danger: #ef4444;

	--shadow: 0 16px 45px rgba(0, 0, 0, 0.35);
	--radius: 14px;
}

* {
	box-sizing: border-box;
}
html,
body {
	height: 100%;
}
body {
	margin: 0;
	font-family:
		Inter,
		system-ui,
		-apple-system,
		Segoe UI,
		Roboto,
		Arial,
		sans-serif;
	background:
		radial-gradient(
			900px 600px at 20% 10%,
			rgba(249, 115, 22, 0.1),
			transparent 55%
		),
		radial-gradient(
			900px 600px at 85% 0%,
			rgba(59, 130, 246, 0.1),
			transparent 55%
		),
		var(--bg);
	color: var(--text);
	overflow-x: hidden;
}

/* App layout: header + scrollable chat + sticky composer */
.app {
	max-width: 980px;
	height: 100dvh;
	margin: 0 auto;
	padding: 18px 16px;
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.topbar {
	background: rgba(15, 23, 42, 0.75);
	border: 1px solid var(--border);
	backdrop-filter: blur(10px);
	border-radius: var(--radius);
	box-shadow: var(--shadow);
	padding: 14px 16px;
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 12px;
}

.brand__title {
	font-size: 16px;
	font-weight: 700;
	letter-spacing: 0.2px;
}
.brand__subtitle {
	margin-top: 2px;
	font-size: 12px;
	color: var(--muted2);
}

.topbar__right {
	display: flex;
	align-items: center;
	gap: 10px;
}

.session-status {
	font-size: 12px;
	color: var(--muted2);
	white-space: nowrap;
}

.content {
	flex: 1;
	min-height: 0;
	display: flex;
	flex-direction: column;
	gap: 12px;
}

/* Chat area */
.chat {
	flex: 1;
	min-height: 0;
	overflow-y: auto;
	padding: 18px 14px;
	border-radius: var(--radius);
	border: 1px solid var(--border);
	background: rgba(15, 23, 42, 0.6);
	backdrop-filter: blur(10px);
	box-shadow: var(--shadow);
	display: flex;
	flex-direction: column;
	gap: 10px;
}

/* Empty state */
.empty {
	margin: auto;
	text-align: center;
	max-width: 780px;
	padding: 18px 12px;
}
.empty__title {
	font-size: 22px;
	font-weight: 750;
	letter-spacing: 0.2px;
}
.empty__desc {
	margin-top: 8px;
	color: var(--muted2);
	line-height: 1.6;
}
.empty__chips {
	margin-top: 14px;
	display: grid;
	grid-template-columns: repeat(3, minmax(0, 1fr));
	gap: 10px;
}

.example-chip {
	border: 1px solid var(--border);
	background: rgba(17, 28, 51, 0.85);
	color: var(--text);
	border-radius: 12px;
	padding: 12px 12px;
	text-align: left;
	cursor: pointer;
	font: inherit;
	transition:
		transform 140ms ease,
		border-color 140ms ease,
		background 140ms ease;
}
.example-chip:hover {
	transform: translateY(-1px);
	border-color: rgba(249, 115, 22, 0.45);
	background: rgba(17, 28, 51, 1);
}

/* Message cards (your JS inserts .message-card user/assistant) */
.message-card {
	border: 1px solid var(--border);
	border-radius: 14px;
	padding: 12px 12px;
	background: rgba(14, 26, 48, 0.75);
}

.message-card.user {
	background: rgba(15, 31, 58, 0.75);
	align-self: flex-end;
	width: min(820px, 100%);
}

.message-card.assistant {
	background: rgba(14, 26, 48, 0.75);
	align-self: flex-start;
	width: min(820px, 100%);
}

.message-meta {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 10px;
	color: var(--muted2);
	font-size: 11px;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	margin-bottom: 8px;
}

.message-body {
	color: var(--text);
	line-height: 1.6;
	font-size: 14px;
	white-space: pre-wrap;
	overflow-wrap: anywhere;
}

.attachment-badge {
	display: inline-flex;
	align-items: center;
	margin-top: 10px;
	border-radius: 999px;
	border: 1px solid var(--border);
	background: rgba(17, 28, 51, 0.9);
	color: var(--muted);
	padding: 4px 10px;
	font-size: 12px;
}

/* Assistant structured sections */
.assistant-sections {
	display: grid;
	gap: 10px;
	margin-top: 6px;
}
.assistant-section {
	border: 1px solid var(--border);
	border-radius: 12px;
	background: rgba(17, 28, 51, 0.75);
	padding: 10px 10px;
}
.assistant-section h3 {
	margin: 0;
	font-size: 13px;
	font-weight: 700;
	letter-spacing: 0.2px;
}
.assistant-section p {
	margin: 6px 0 0;
	color: var(--muted);
	line-height: 1.55;
}

/* Composer (sticky bottom) */
.composer {
	position: sticky;
	bottom: 0;
}

.composer__panel {
	border-radius: var(--radius);
	border: 1px solid var(--border);
	background: rgba(15, 23, 42, 0.78);
	backdrop-filter: blur(10px);
	box-shadow: var(--shadow);
	padding: 12px;
	display: flex;
	flex-direction: column;
	gap: 10px;
}

.controls {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 10px;
}

.controls__left {
	display: flex;
	align-items: center;
	gap: 10px;
	min-width: 0;
}

.label {
	font-size: 12px;
	color: var(--muted2);
	font-weight: 600;
}

.toggle-group {
	display: inline-flex;
	border: 1px solid var(--border);
	border-radius: 999px;
	background: rgba(17, 28, 51, 0.65);
	padding: 3px;
}

.toggle-btn {
	border: 0;
	background: transparent;
	color: var(--muted2);
	border-radius: 999px;
	padding: 7px 10px;
	cursor: pointer;
	font: inherit;
	font-size: 12px;
	transition:
		background 140ms ease,
		color 140ms ease;
}

.toggle-btn.active {
	background: linear-gradient(140deg, var(--accent), var(--accent2));
	color: #0b1220;
	font-weight: 700;
}

.controls__right {
	display: flex;
	align-items: center;
	gap: 8px;
}

#file-input {
	display: none;
}

.file-pill {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	border: 1px solid var(--border);
	background: rgba(17, 28, 51, 0.75);
	border-radius: 999px;
	padding: 7px 10px;
	cursor: pointer;
	color: var(--muted);
	user-select: none;
	font-size: 12px;
}

.file-pill:hover {
	border-color: rgba(249, 115, 22, 0.45);
}

.file-name {
	margin: 0;
	font-size: 12px;
	color: var(--muted);
	border: 1px solid var(--border);
	background: rgba(17, 28, 51, 0.65);
	padding: 8px 10px;
	border-radius: 12px;
}

.inputrow {
	display: grid;
	grid-template-columns: 1fr auto;
	gap: 10px;
	align-items: end;
}

#message-input {
	width: 100%;
	border: 1px solid var(--border);
	border-radius: 14px;
	min-height: 56px;
	max-height: 220px;
	resize: none;
	padding: 12px 12px;
	font: inherit;
	color: var(--text);
	background: rgba(17, 28, 51, 0.75);
	line-height: 1.5;
}

#message-input::placeholder {
	color: rgba(226, 232, 240, 0.4);
}

.actions {
	display: flex;
	gap: 8px;
}

.btn {
	border: 1px solid transparent;
	border-radius: 12px;
	padding: 10px 12px;
	font: inherit;
	font-weight: 700;
	cursor: pointer;
	font-size: 12px;
	user-select: none;
}

.btn--primary {
	background: linear-gradient(140deg, var(--accent), var(--accent2));
	color: #0b1220;
}

.btn--primary:disabled {
	opacity: 0.7;
	cursor: wait;
}

.btn--secondary {
	border-color: var(--border);
	background: rgba(17, 28, 51, 0.75);
	color: var(--text);
}

.btn--ghost {
	border-color: var(--border);
	background: transparent;
	color: var(--muted);
}

.btn--ghost:hover,
.btn--secondary:hover {
	border-color: rgba(249, 115, 22, 0.35);
}

.btn:focus-visible,
.toggle-btn:focus-visible,
.example-chip:focus-visible,
#message-input:focus-visible,
.file-pill:focus-visible {
	outline: 3px solid rgba(249, 115, 22, 0.25);
	outline-offset: 2px;
}

.meta {
	display: flex;
	justify-content: space-between;
	gap: 10px;
	color: var(--muted2);
	font-size: 12px;
}

.trust-note {
	font-size: 12px;
	color: rgba(226, 232, 240, 0.5);
}

/* Errors */
.error-message {
	color: var(--danger);
}

/* Responsive */
@media (max-width: 860px) {
	.app {
		padding: 14px 12px;
	}
	.empty__chips {
		grid-template-columns: 1fr;
	}
	.inputrow {
		grid-template-columns: 1fr;
	}
	.actions {
		justify-content: flex-end;
	}
	.topbar {
		flex-direction: column;
		align-items: flex-start;
	}
	.topbar__right {
		width: 100%;
		justify-content: space-between;
	}
}
